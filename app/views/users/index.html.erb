<div class="container">
    <div class="justify-content-center">
        <div class="row mb-2">
            <div class="col-6 d-inline-flex mt-5 ml-5">
                <h2 class="header-2 mr-3">Lista mieszkańców: </h2>

                <% if current_user.try(:admin?) %>
                    <%= "Tryb admina" %>
                <% end %>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-10">
                <table class="table table-dark table-borderless ">
                    <thead>
                        <tr>
                            <th scope="col">Imię</th>
                            <th scope="col">Nazwisko</th>
                            <th scope="col">Szczegóły</th>
                            <th scope="col">Blok / Mieszkanie</th>
                            <th scope="col">Funkcje</th>
                        </tr>
                    </thead>
                    <tbody>
                    <% @user.each do |user| %>
                        <tr>
                            <th scope="row"><%= user.name %></th>
                            <td><%= user.surname %></td>
                            <td><%= link_to user_path(user.id) do %>
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#9BF6FF" class="bi bi-info-square" viewBox="0 0 16 16">
                                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                                </svg>
                            <% end %></td>
                            <td>
                                <%= user.appartment_id ? "#{user.appartment.block_name} nr. #{user.appartment.number_of_appart}" : "Nieprzypisano!" %>
                            </td> 
                            <td>          
                            <%= link_to "Usuń", user_path(user), class: "btn btn-outline-danger", method: :delete, data: {confirm: "Na pewno usunąć?"}  %>
                            <%= link_to 'Edytuj', edit_registration_path(user), class:'btn btn-outline-info' %>
                            </td>                    
                        </tr>
                    <% end %>
                    </tbody>
                </table>
            </div>
        </div>

                
    </div>
</div>